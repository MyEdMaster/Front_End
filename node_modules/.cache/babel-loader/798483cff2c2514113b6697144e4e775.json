{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vivian/Desktop/frondend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vivian/Desktop/frondend/src/page/RRH/Component/ask-question/index.js\";\nimport React from 'react';\nimport classes from './index.module.css';\nimport llrh from '../../Lib/llrh.jpg';\nimport bbw from '../../Lib/bbw.jpg';\nimport { MDBBtn, MDBCard, MDBIcon, MDBModal, MDBModalBody } from 'mdbreact';\nimport { handleSyn } from \"../speech-syn\";\nimport { cancelSyn } from \"../speech-syn\";\nimport { url } from \"../../../../tool/fetch-help\";\nimport Joyride from 'react-joyride'; //------------------------SPEECH RECOGNITION-----------------------------\n\nvar SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition; // const SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;\n\nvar recognition = new SpeechRecognition();\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US';\nexport var AskQuestion =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AskQuestion, _React$Component);\n\n  function AskQuestion(props) {\n    var _this;\n\n    _classCallCheck(this, AskQuestion);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AskQuestion).call(this, props));\n\n    _this.myClick = function (text) {\n      alert(text);\n    };\n\n    _this.toggle = function (nr) {\n      return function () {\n        var _this$setState;\n\n        cancelSyn();\n        var modalNumber = 'modal' + nr;\n\n        _this.setState((_this$setState = {}, _defineProperty(_this$setState, modalNumber, !_this.state[modalNumber]), _defineProperty(_this$setState, \"answer\", ''), _this$setState));\n      };\n    };\n\n    _this.searchAnswer = function (value) {\n      cancelSyn();\n      var option = {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          question: value\n        })\n      };\n      fetch(\"\".concat(url, \"/ask_question/p1\"), option).then(function (response) {\n        return response.json();\n      }).then(function (answer) {\n        _this.setState({\n          backend: answer\n        });\n\n        switch (answer.type) {\n          case '1':\n            _this.setState({\n              hints: '',\n              answer: answer.answer1,\n              tag: 1\n            });\n\n            handleSyn(answer.answer1.replace('?', '.'));\n            break;\n\n          case '2':\n            _this.setState({\n              hints: 'Which is this the question you want to ask?',\n              q1: answer.question1,\n              q2: answer.question2,\n              q3: answer.question3,\n              tag: 2\n            });\n\n            handleSyn('Which is this the question you want to ask?');\n            break;\n\n          case '3':\n            _this.setState({\n              hints: 'The words don not add up',\n              tag: 3\n            });\n\n            handleSyn('The words don not add up');\n        }\n      }); // fetch(`${url}/getanswer`,option)\n      //     .then(response=>response.text())\n      //     .then(answer=>{\n      //         if (answer.substr(0, 1) === '0'){\n      //             this.setState({\n      //                 hints:'Is this the question you want to ask?',\n      //                 answer:answer.substring(1,answer.length),\n      //                 tag:0,\n      //                 defaultQuestion:answer.substring(1,answer.length)\n      //             })\n      //             handleSyn('Is this the question you want to ask')\n      //             handleSyn((answer.substring(1,answer.length).replace('?', '.')))\n      //         }\n      //         else if(answer.substr(0, 1) === '2'){\n      //             this.setState({\n      //                 hints:'',\n      //                 answer:'I cannot understand your question, could you ask it in another way'\n      //                 // answer:answer.substring(1,answer.length),\n      //                 // tag:0,\n      //                 // defaultQuestion:answer.substring(1,answer.length)\n      //             })\n      //             handleSyn('I cannot understand your question, could you ask it in another way')\n      //         }\n      //         else{\n      //             this.setState({\n      //                 hint:'',\n      //                 answer:answer.substring(1,answer.length)\n      //             })\n      //             handleSyn((answer.substring(1,answer.length).replace('?', '.')))\n      //         }\n      //\n      //     })\n      //     .catch(5000)\n    };\n\n    _this.state = {\n      backend: '',\n      modal1: false,\n      modal2: false,\n      redQuestion: '',\n      wolfQuestion: '',\n      answer: '',\n      q1: '',\n      q2: '',\n      q3: '',\n      change: false,\n      tag: 0,\n      defaultQuestion: '',\n      listening: false,\n      speechState: 'Click to start...',\n      hints: '',\n      steps: [{\n        target: \".rrh\",\n        content: \"Click here to ask Little Red Riding Hood questions\"\n      }, {\n        target: \".bbw\",\n        content: \"Click here to ask Big Bad Wolf questions\"\n      }]\n    };\n    _this.toggleListen = _this.toggleListen.bind(_assertThisInitialized(_this));\n    _this.handleListen = _this.handleListen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AskQuestion, [{\n    key: \"toggleListen\",\n    // searchAgain=(answer)=>{\n    //     cancelSyn()\n    //     const newoption={\n    //         method:'POST',\n    //         headers: {\n    //             'content-type': 'application/json',\n    //         },\n    //         body:JSON.stringify({\"question\":answer})\n    //     };\n    //     fetch(`${url}/getanswer`,newoption)\n    //         .then(response=>response.text())\n    //         .then(newanswer=>{\n    //             this.setState({\n    //                 answer:newanswer.substring(1,newanswer.length),\n    //                 tag:1,\n    //                 hints:''\n    //             })\n    //             handleSyn('The answer is')\n    //             handleSyn(newanswer.substring(1,newanswer.length).replace('?', '.'))\n    //         })\n    // };\n    //--------------Speech Recognition--------------\n    value: function toggleListen() {\n      cancelSyn();\n      this.setState({\n        listening: !this.state.listening\n      }, this.handleListen);\n    }\n  }, {\n    key: \"handleListen\",\n    value: function handleListen() {\n      var _this2 = this;\n\n      console.log('listening?', this.state.listening);\n\n      if (this.state.listening) {\n        recognition.start();\n\n        recognition.onend = function () {\n          _this2.setState({\n            speechState: '...continue listening...'\n          });\n\n          recognition.start();\n        };\n      } else {\n        recognition.stop();\n\n        recognition.onend = function () {\n          _this2.setState({\n            speechState: 'Click to start...'\n          });\n        };\n      }\n\n      recognition.onstart = function () {\n        _this2.setState({\n          speechState: 'Listening...Click to pause'\n        });\n      };\n\n      var finalTranscript = '';\n\n      recognition.onresult = function (event) {\n        var interimTranscript = '';\n\n        for (var i = event.resultIndex; i < event.results.length; i++) {\n          var transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) finalTranscript += transcript + ' ';else interimTranscript += transcript;\n        }\n\n        if (_this2.state.modal1) {\n          _this2.setState({\n            redQuestion: finalTranscript\n          });\n        } else if (_this2.state.modal2) {\n          _this2.setState({\n            wolfQuestion: finalTranscript\n          });\n        }\n\n        document.getElementById('interim').innerHTML = interimTranscript;\n        document.getElementById('final').value = finalTranscript; //-------------------------COMMANDS------------------------------------\n\n        var transcriptArr = finalTranscript.split(' ');\n        var stopCmd = transcriptArr.slice(-3, -1);\n        console.log('stopCmd', stopCmd);\n\n        if (stopCmd[0] === 'stop' && stopCmd[1] === 'listening') {\n          recognition.stop();\n\n          recognition.onend = function () {\n            console.log('Stopped listening per command');\n            var finalText = transcriptArr.slice(0, -3).join(' ');\n            document.getElementById('final').value = finalText;\n          };\n        }\n      }; //-----------------------------------------------------------------------\n\n\n      recognition.onerror = function (event) {\n        console.log(\"Error occurred in recognition: \" + event.error);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var steps = this.state.steps;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Joyride, {\n        steps: steps,\n        continuous: true,\n        scrollToFirstStep: true,\n        scrollToSteps: false,\n        styles: {\n          marginTop: '4000px',\n          options: {\n            // arrowColor: '#e3ffeb',\n            // backgroundColor: '#e3ffeb',\n            //overlayColor: 'rgba(121, 85, 72, 0.1)',\n            primaryColor: '#7e57c2',\n            //textColor: '#004a14',\n            // width: 900,\n            zIndex: 1000\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.fixed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button button rrh\",\n        onClick: this.toggle(1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://myedmaster.oss-us-east-1.aliyuncs.com/llrh.jpg\",\n        alt: \"Little Red Riding Hood\",\n        height: \"142\",\n        width: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: classes.fixed1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button button bbw\",\n        onClick: this.toggle(2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://myedmaster.oss-us-east-1.aliyuncs.com/bbw.jpg\",\n        alt: \"Big Bad Wolf\",\n        height: \"142\",\n        width: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }))), React.createElement(MDBModal, {\n        isOpen: this.state.modal1,\n        toggle: this.toggle(1),\n        centered: true,\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(MDBModalBody, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"TRY ASKING\"), React.createElement(\"img\", {\n        src: llrh,\n        alt: \"Little Red Riding Hood\",\n        height: \"71\",\n        width: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, \"A QUESTION\")), this.state.tag === 2 ? null : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center align-content-center mt-5 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-grow-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"final\",\n        className: \"form-control form-control-lg \".concat(classes.searchInput),\n        placeholder: \"Ask your question here\",\n        style: {\n          borderStyle: 'solid',\n          borderWidth: '1px',\n          borderColor: '#81c784',\n          borderRadius: '15px',\n          fontFamily: '\\'Rajdhani\\', sans-serif',\n          fontSize: '20px'\n        },\n        onChange: function onChange(e) {\n          var str = e.target.value;\n\n          _this3.setState({\n            redQuestion: str\n          });\n        },\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) {\n            if (_this3.state.redQuestion === '') {\n              alert('Please input your question');\n            } else {\n              _this3.searchAnswer(_this3.state.redQuestion);\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        tag: \"a\",\n        floating: true,\n        color: \"green\",\n        style: {\n          margin: '6px'\n        },\n        onClick: function onClick() {\n          if (_this3.state.redQuestion === '') {\n            alert('Please input your question');\n          } else {\n            _this3.searchAnswer(_this3.state.redQuestion);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"ml-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        tag: \"a\",\n        floating: true,\n        color: \"purple lighten-2\",\n        style: {\n          margin: '6px'\n        },\n        onClick: this.toggleListen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"microphone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: classes.speechBorder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.body,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, this.state.speechState), React.createElement(\"div\", {\n        id: \"interim\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        size: \"8\",\n        text: \"white\",\n        className: \"py-3 px-3 w-100 green lighten-2\",\n        style: {\n          boxShadow: 'none',\n          borderRadius: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          borderStyle: 'solid',\n          borderColor: 'white',\n          borderWidth: '0 0 1px 0'\n        },\n        className: classes.pb1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, \"Hints/Answer\"), this.state.tag === 2 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.pb3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, this.state.hints), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hint: '',\n            answer: _this3.state.backend.answer1\n          });\n\n          handleSyn(_this3.state.backend.answer1);\n        },\n        className: classes[\"select-ques\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, this.state.q1), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: '',\n            answer: _this3.state.backend.answer2\n          });\n\n          handleSyn(_this3.state.backend.answer2);\n        },\n        className: classes[\"select-ques\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, this.state.q2), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: '',\n            answer: _this3.state.backend.answer3\n          });\n\n          handleSyn(_this3.state.backend.answer3);\n        },\n        className: classes[\"select-ques\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, this.state.q3), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: 'Could you rephrase the question？',\n            answer: ''\n          });\n\n          handleSyn('Could you rephrase the question');\n        },\n        className: classes[\"select-ques\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, \"None of above\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.pb3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, this.state.hints), React.createElement(\"p\", {\n        className: classes.pb2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, this.state.answer)))))), React.createElement(MDBModal, {\n        isOpen: this.state.modal2,\n        toggle: this.toggle(2),\n        centered: true,\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484\n        },\n        __self: this\n      }, React.createElement(MDBModalBody, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.title,\n        style: {\n          color: '#7e57c2',\n          borderColor: '#7e57c2'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, \"TRY ASKING\"), React.createElement(\"img\", {\n        src: bbw,\n        alt: \"Little Red Riding Hood\",\n        height: \"71\",\n        width: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, \"A QUESTION\")), this.state.tag === 2 ? null : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center align-content-center mt-5 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex-grow-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"final\",\n        className: \"form-control form-control-lg \".concat(classes.searchInput),\n        placeholder: \"Ask your question here\",\n        style: {\n          borderStyle: 'solid',\n          borderWidth: '1px',\n          borderColor: '#7e57c2',\n          borderRadius: '15px',\n          fontFamily: '\\'Rajdhani\\', sans-serif',\n          fontSize: '20px'\n        },\n        onChange: function onChange(e) {\n          var str = e.target.value;\n\n          _this3.setState({\n            wolfQuestion: str\n          });\n        },\n        onKeyDown: function onKeyDown(e) {\n          if (e.keyCode === 13) {\n            if (_this3.state.wolfQuestion === '') {\n              alert('Please input your question');\n            } else {\n              _this3.searchAnswer(_this3.state.wolfQuestion);\n            }\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        tag: \"a\",\n        floating: true,\n        color: \"green\",\n        style: {\n          margin: '6px'\n        },\n        onClick: function onClick() {\n          if (_this3.state.wolfQuestion === '') {\n            alert('Please input your question');\n          } else {\n            _this3.searchAnswer(_this3.state.wolfQuestion);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"ml-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        tag: \"a\",\n        floating: true,\n        color: \"purple lighten-2\",\n        style: {\n          margin: '6px'\n        },\n        onClick: this.toggleListen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        icon: \"microphone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: classes.speechBorder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.body,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      }, this.state.speechState), React.createElement(\"div\", {\n        id: \"interim\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        size: \"8\",\n        text: \"white\",\n        className: \"py-3 px-3 w-100 purple lighten-2\",\n        style: {\n          boxShadow: 'none',\n          borderRadius: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          borderStyle: 'solid',\n          borderColor: 'white',\n          borderWidth: '0 0 1px 0'\n        },\n        className: classes.pb1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      }, \"Hints/Answer\"), this.state.tag === 2 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.pb3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572\n        },\n        __self: this\n      }, this.state.hints), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hint: '',\n            answer: _this3.state.backend.answer1\n          });\n\n          handleSyn(_this3.state.backend.answer1);\n        },\n        className: classes[\"select-ques2\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, this.state.q1), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: '',\n            answer: _this3.state.backend.answer2\n          });\n\n          handleSyn(_this3.state.backend.answer2);\n        },\n        className: classes[\"select-ques2\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, this.state.q2), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: '',\n            answer: _this3.state.backend.answer3\n          });\n\n          handleSyn(_this3.state.backend.answer3);\n        },\n        className: classes[\"select-ques2\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }, this.state.q3), React.createElement(\"div\", {\n        onClick: function onClick() {\n          _this3.setState({\n            tag: 1,\n            hints: 'Could you rephrase the question？',\n            answer: ''\n          });\n\n          handleSyn('Could you rephrase the question');\n        },\n        className: classes[\"select-ques2\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612\n        },\n        __self: this\n      }, \"None of above\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.pb3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628\n        },\n        __self: this\n      }, this.state.hints), React.createElement(\"p\", {\n        className: classes.pb2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629\n        },\n        __self: this\n      }, this.state.answer)))))));\n    }\n  }]);\n\n  return AskQuestion;\n}(React.Component);","map":{"version":3,"sources":["/Users/vivian/Desktop/frondend/src/page/RRH/Component/ask-question/index.js"],"names":["React","classes","llrh","bbw","MDBBtn","MDBCard","MDBIcon","MDBModal","MDBModalBody","handleSyn","cancelSyn","url","Joyride","SpeechRecognition","window","webkitSpeechRecognition","recognition","continous","interimResults","lang","AskQuestion","props","myClick","text","alert","toggle","nr","modalNumber","setState","state","searchAnswer","value","option","method","headers","body","JSON","stringify","question","fetch","then","response","json","answer","backend","type","hints","answer1","tag","replace","q1","question1","q2","question2","q3","question3","modal1","modal2","redQuestion","wolfQuestion","change","defaultQuestion","listening","speechState","steps","target","content","toggleListen","bind","handleListen","console","log","start","onend","stop","onstart","finalTranscript","onresult","event","interimTranscript","i","resultIndex","results","length","transcript","isFinal","document","getElementById","innerHTML","transcriptArr","split","stopCmd","slice","finalText","join","onerror","error","marginTop","options","primaryColor","zIndex","fixed","fixed1","title","searchInput","borderStyle","borderWidth","borderColor","borderRadius","fontFamily","fontSize","e","str","keyCode","margin","speechBorder","boxShadow","pb1","pb3","hint","answer2","answer3","pb2","color","Component"],"mappings":"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","sourcesContent":["'use strict'\nimport React from 'react';\nimport classes from './index.module.css';\nimport llrh from '../../Lib/llrh.jpg';\nimport bbw from '../../Lib/bbw.jpg';\nimport {MDBBtn, MDBCard,MDBIcon, MDBModal, MDBModalBody} from 'mdbreact';\nimport {handleSyn} from \"../speech-syn\";\nimport {cancelSyn} from \"../speech-syn\";\nimport {url} from \"../../../../tool/fetch-help\";\nimport Joyride from 'react-joyride';\n\n//------------------------SPEECH RECOGNITION-----------------------------\n\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n// const SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;\nconst recognition = new SpeechRecognition();\n\n\nrecognition.continous = true;\nrecognition.interimResults = true;\nrecognition.lang = 'en-US';\n\n\nexport class AskQuestion extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            backend:'',\n            modal1: false,\n            modal2: false,\n            redQuestion:'',\n            wolfQuestion:'',\n            answer:'',\n            q1:'',\n            q2:'',\n            q3:'',\n            change:false,\n            tag:0,\n            defaultQuestion:'',\n            listening: false,\n            speechState:'Click to start...',\n            hints:'',\n            steps: [\n                {\n                    target: \".rrh\",\n                    content: \"Click here to ask Little Red Riding Hood questions\"\n                },\n                {\n                    target: \".bbw\",\n                    content: \"Click here to ask Big Bad Wolf questions\"\n                }\n            ]\n\n        };\n        this.toggleListen = this.toggleListen.bind(this)\n        this.handleListen = this.handleListen.bind(this)\n\n    }\n    myClick=(text)=>{\n        alert(text);\n    }\n\n    toggle = nr => () => {\n        cancelSyn()\n        let modalNumber = 'modal' + nr\n        this.setState({\n            [modalNumber]: !this.state[modalNumber],\n            answer:''\n        });\n    }\n\n\n    searchAnswer=(value)=>{\n        cancelSyn()\n        const option={\n            method:'POST',\n            headers: {\n                'content-type': 'application/json',\n            },\n            body:JSON.stringify({question:value})\n        };\n        fetch(`${url}/ask_question/p1`,option)\n            .then(response=>response.json())\n            .then(answer=>{\n                this.setState({\n                    backend:answer\n                })\n                switch (answer.type) {\n                    case '1':\n                        this.setState({\n                            hints:'',\n                            answer:answer.answer1,\n                            tag:1\n                        });\n                        handleSyn((answer.answer1.replace('?', '.')));\n                        break;\n                    case '2':\n                        this.setState({\n                            hints:'Which is this the question you want to ask?',\n                            q1:answer.question1,\n                            q2:answer.question2,\n                            q3:answer.question3,\n                            tag:2,\n                        });\n                        handleSyn('Which is this the question you want to ask?');\n\n                        break;\n                    case '3':\n                        this.setState({\n                            hints:'The words don not add up',\n                            tag:3\n                        });\n                        handleSyn('The words don not add up')\n                }\n\n            })\n\n\n        // fetch(`${url}/getanswer`,option)\n        //     .then(response=>response.text())\n        //     .then(answer=>{\n        //         if (answer.substr(0, 1) === '0'){\n        //             this.setState({\n        //                 hints:'Is this the question you want to ask?',\n        //                 answer:answer.substring(1,answer.length),\n        //                 tag:0,\n        //                 defaultQuestion:answer.substring(1,answer.length)\n        //             })\n        //             handleSyn('Is this the question you want to ask')\n        //             handleSyn((answer.substring(1,answer.length).replace('?', '.')))\n        //         }\n        //         else if(answer.substr(0, 1) === '2'){\n        //             this.setState({\n        //                 hints:'',\n        //                 answer:'I cannot understand your question, could you ask it in another way'\n        //                 // answer:answer.substring(1,answer.length),\n        //                 // tag:0,\n        //                 // defaultQuestion:answer.substring(1,answer.length)\n        //             })\n        //             handleSyn('I cannot understand your question, could you ask it in another way')\n        //         }\n        //         else{\n        //             this.setState({\n        //                 hint:'',\n        //                 answer:answer.substring(1,answer.length)\n        //             })\n        //             handleSyn((answer.substring(1,answer.length).replace('?', '.')))\n        //         }\n        //\n        //     })\n        //     .catch(5000)\n    }\n    // searchAgain=(answer)=>{\n    //     cancelSyn()\n    //     const newoption={\n    //         method:'POST',\n    //         headers: {\n    //             'content-type': 'application/json',\n    //         },\n    //         body:JSON.stringify({\"question\":answer})\n    //     };\n    //     fetch(`${url}/getanswer`,newoption)\n    //         .then(response=>response.text())\n    //         .then(newanswer=>{\n    //             this.setState({\n    //                 answer:newanswer.substring(1,newanswer.length),\n    //                 tag:1,\n    //                 hints:''\n    //             })\n    //             handleSyn('The answer is')\n    //             handleSyn(newanswer.substring(1,newanswer.length).replace('?', '.'))\n    //         })\n    // };\n    //--------------Speech Recognition--------------\n    toggleListen() {\n        cancelSyn()\n        this.setState({\n            listening: !this.state.listening\n        }, this.handleListen)\n    }\n\n    handleListen() {\n\n        console.log('listening?', this.state.listening)\n\n        if (this.state.listening) {\n            recognition.start();\n            recognition.onend = () => {\n                this.setState({\n                    speechState:'...continue listening...'\n                });\n                recognition.start()\n            }\n\n        } else {\n            recognition.stop();\n            recognition.onend = () => {\n                this.setState({\n                    speechState:'Click to start...'\n                });\n            }\n        }\n\n        recognition.onstart = () => {\n            this.setState({\n                speechState:'Listening...Click to pause'\n            });\n        }\n\n        let finalTranscript = '';\n        recognition.onresult = event => {\n            let interimTranscript = '';\n\n            for (let i = event.resultIndex; i < event.results.length; i++) {\n                const transcript = event.results[i][0].transcript;\n                if (event.results[i].isFinal) finalTranscript += transcript + ' ';\n                else interimTranscript += transcript;\n            }\n            if (this.state.modal1){\n                this.setState({\n                    redQuestion:finalTranscript\n                })\n            }\n            else if(this.state.modal2){\n                this.setState({\n                    wolfQuestion:finalTranscript\n                })\n            }\n            document.getElementById('interim').innerHTML = interimTranscript;\n            document.getElementById('final').value = finalTranscript;\n\n            //-------------------------COMMANDS------------------------------------\n\n            const transcriptArr = finalTranscript.split(' ');\n            const stopCmd = transcriptArr.slice(-3, -1);\n            console.log('stopCmd', stopCmd);\n\n            if (stopCmd[0] === 'stop' && stopCmd[1] === 'listening'){\n                recognition.stop();\n                recognition.onend = () => {\n                    console.log('Stopped listening per command');\n                    const finalText = transcriptArr.slice(0, -3).join(' ');\n                    document.getElementById('final').value = finalText\n                }\n            }\n        }\n\n        //-----------------------------------------------------------------------\n\n        recognition.onerror = event => {\n            console.log(\"Error occurred in recognition: \" + event.error)\n        }\n\n    }\n\n    render() {\n        const { steps } = this.state;\n\n\n        return (\n            <div>\n                <Joyride\n                    steps={steps}\n                    continuous={true}\n                    scrollToFirstStep={true}\n                    scrollToSteps={false}\n                    styles={{\n                        marginTop:'4000px',\n                        options: {\n                            // arrowColor: '#e3ffeb',\n                            // backgroundColor: '#e3ffeb',\n                            //overlayColor: 'rgba(121, 85, 72, 0.1)',\n                            primaryColor: '#7e57c2',\n                            //textColor: '#004a14',\n                            // width: 900,\n                            zIndex: 1000,\n                        }\n                    }}\n                />\n\n                <div className={classes.fixed}>\n                    <button className=\"button button rrh\" onClick={this.toggle(1)}>\n                        <img src='https://myedmaster.oss-us-east-1.aliyuncs.com/llrh.jpg' alt=\"Little Red Riding Hood\" height=\"142\" width=\"100\"/></button>\n                </div>\n                <div className={classes.fixed1}>\n                    <button className=\"button button bbw\" onClick={this.toggle(2)}><img\n                        src='https://myedmaster.oss-us-east-1.aliyuncs.com/bbw.jpg' alt=\"Big Bad Wolf\" height=\"142\" width=\"100\"/></button>\n                </div>\n                <MDBModal isOpen={this.state.modal1} toggle={this.toggle(1)} centered size=\"lg\">\n\n                    <MDBModalBody className=\"text-center\">\n                        <div className={classes.title}>\n                            <span>TRY ASKING</span>\n                            <img src={llrh} alt=\"Little Red Riding Hood\" height=\"71\" width=\"50\"/>\n                            <span >A QUESTION</span>\n                        </div>\n                        {this.state.tag===2?(null):(\n                            <div>\n                                <div className=\"d-flex justify-content-center align-content-center mt-5 mb-3\">\n                                    <div className=\"flex-grow-1\">\n                                        <input\n                                            id='final'\n                                            className={`form-control form-control-lg ${classes.searchInput}`}\n                                            placeholder=\"Ask your question here\"\n                                            style={{\n                                                borderStyle:'solid',\n                                                borderWidth:'1px',\n                                                borderColor:'#81c784',\n                                                borderRadius:'15px',\n                                                fontFamily:'\\'Rajdhani\\', sans-serif',\n                                                fontSize:'20px',\n                                            }}\n                                            onChange={(e) => {\n                                                const str=e.target.value\n                                                this.setState({\n                                                    redQuestion: str\n                                                });\n                                            }}\n                                            onKeyDown={(e) =>{\n                                                if(e.keyCode===13){\n                                                    if(this.state.redQuestion===''){\n                                                        alert('Please input your question')\n                                                    }\n                                                    else{\n                                                        this.searchAnswer(this.state.redQuestion)\n                                                    }}\n                                            }\n                                            }\n                                        />\n                                    </div>\n                                    <div className=\"ml-3\">\n                                        <MDBBtn\n                                            tag=\"a\" floating color=\"green\" style={{margin:'6px'}}\n                                            onClick={()=>{\n                                                if(this.state.redQuestion===''){\n                                                    alert('Please input your question')\n                                                }\n                                                else{\n                                                    this.searchAnswer(this.state.redQuestion)\n                                                }}\n                                            }\n                                        >\n                                            <MDBIcon icon=\"question\" />\n                                        </MDBBtn>\n                                    </div>\n                                    <div className=\"ml-1\">\n                                        <MDBBtn\n                                            tag=\"a\" floating color=\"purple lighten-2\" style={{margin:'6px'}}\n                                            onClick={this.toggleListen}\n                                        >\n                                            <MDBIcon icon=\"microphone\" />\n                                        </MDBBtn>\n\n                                    </div>\n                                </div>\n                                <div className={classes.speechBorder}>\n                                    <div className={classes.body}>{this.state.speechState}</div>\n                                    <div id='interim'></div>\n                                </div>\n                            </div>\n                        )}\n\n                        <div className=\"mt-3\">\n                            <MDBCard\n                                size=\"8\"\n                                text=\"white\"\n                                className=\"py-3 px-3 w-100 green lighten-2\"\n                                style={{boxShadow:'none', borderRadius:'15px',}}\n                            >\n                                <p\n                                    style={{borderStyle:'solid',borderColor:'white',borderWidth:'0 0 1px 0'}}\n                                    className={classes.pb1}\n                                >Hints/Answer</p>\n\n                                {this.state.tag===2? (\n                                    <div>\n                                        <p className={classes.pb3}>{this.state.hints}</p>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hint:'',\n                                                    answer:this.state.backend.answer1\n                                                })\n                                                handleSyn(this.state.backend.answer1)\n                                            }}\n                                            className={classes[\"select-ques\"]}\n                                        >\n                                            {this.state.q1}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'',\n                                                    answer:this.state.backend.answer2\n                                                })\n                                                handleSyn(this.state.backend.answer2)\n                                            }}\n                                            className={classes[\"select-ques\"]}\n                                        >\n                                            {this.state.q2}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'',\n                                                    answer:this.state.backend.answer3\n                                                })\n                                                handleSyn(this.state.backend.answer3)\n                                            }}\n                                            className={classes[\"select-ques\"]}\n                                        >\n                                            {this.state.q3}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'Could you rephrase the question？',\n                                                    answer:''\n                                                })\n                                                handleSyn('Could you rephrase the question')\n                                            }}\n                                            className={classes[\"select-ques\"]}\n                                        >\n                                            None of above\n                                        </div>\n                                    </div>\n                                ):(\n                                    <div>\n                                        <p className={classes.pb3}>{this.state.hints}</p>\n                                        <p className={classes.pb2}>{this.state.answer}</p>\n                                    </div>\n\n                                )}\n\n                            </MDBCard>\n                            {/*<div>*/}\n                            {/*{this.state.tag<1? (*/}\n                            {/*<div className=\"d-flex justify-content-center align-items-center\">*/}\n\n                            {/*<MDBBtn*/}\n                            {/*tag=\"a\" floating className=\"green\"*/}\n                            {/*onClick={()=>{*/}\n                            {/*this.searchAgain(this.state.defaultQuestion)*/}\n                            {/*this.setState({*/}\n                            {/*tag:1*/}\n                            {/*})*/}\n                            {/*}}*/}\n                            {/*>*/}\n                            {/*<MDBIcon icon=\"check\" />*/}\n                            {/*</MDBBtn>*/}\n                            {/*<MDBBtn*/}\n                            {/*tag=\"a\" floating className=\"red lighten-1\"*/}\n                            {/*onClick={()=>{*/}\n                            {/*this.setState({*/}\n                            {/*answer:'Sorry, we cannot find the answer',*/}\n                            {/*tag:1*/}\n                            {/*})*/}\n                            {/*}}*/}\n                            {/*>*/}\n                            {/*<MDBIcon icon=\"times\" />*/}\n                            {/*</MDBBtn>*/}\n\n                            {/*</div>*/}\n                            {/*):(null)*/}\n                            {/*}*/}\n                            {/*</div>*/}\n                        </div>\n\n                        {/*{this.state.change?(*/}\n                        {/*null*/}\n                        {/*):(*/}\n\n                        {/*<p>*/}\n                        {/*{this.state.answer}*/}\n                        {/*</p>*/}\n                        {/*)}*/}\n                    </MDBModalBody>\n                </MDBModal>\n                <MDBModal isOpen={this.state.modal2} toggle={this.toggle(2)} centered size=\"lg\">\n\n                    <MDBModalBody className=\"text-center\">\n                        <div className={classes.title} style={{color:'#7e57c2', borderColor:'#7e57c2'}}>\n                            <span>TRY ASKING</span>\n                            <img src={bbw} alt=\"Little Red Riding Hood\" height=\"71\" width=\"50\"/>\n                            <span >A QUESTION</span>\n                        </div>\n                        {this.state.tag===2?(null):(\n                            <div>\n                                <div className=\"d-flex justify-content-center align-content-center mt-5 mb-3\">\n                                    <div className=\"flex-grow-1\">\n                                        <input\n                                            id='final'\n                                            className={`form-control form-control-lg ${classes.searchInput}`}\n                                            placeholder=\"Ask your question here\"\n                                            style={{\n                                                borderStyle:'solid',\n                                                borderWidth:'1px',\n                                                borderColor:'#7e57c2',\n                                                borderRadius:'15px',\n                                                fontFamily:'\\'Rajdhani\\', sans-serif',\n                                                fontSize:'20px',\n                                            }}\n                                            onChange={(e) => {\n                                                const str=e.target.value\n                                                this.setState({\n                                                    wolfQuestion: str\n                                                });\n                                            }}\n                                            onKeyDown={(e) =>{\n                                                if(e.keyCode===13){\n                                                    if(this.state.wolfQuestion===''){\n                                                        alert('Please input your question')\n                                                    }\n                                                    else{\n                                                        this.searchAnswer(this.state.wolfQuestion)\n                                                    }}\n                                            }\n                                            }\n                                        />\n                                    </div>\n                                    <div className=\"ml-3\">\n                                        <MDBBtn\n                                            tag=\"a\" floating color=\"green\" style={{margin:'6px'}}\n                                            onClick={()=>{\n                                                if(this.state.wolfQuestion===''){\n                                                    alert('Please input your question')\n                                                }\n                                                else{\n                                                    this.searchAnswer(this.state.wolfQuestion)\n                                                }}\n                                            }\n                                        >\n                                            <MDBIcon icon=\"question\" />\n                                        </MDBBtn>\n                                    </div>\n                                    <div className=\"ml-1\">\n                                        <MDBBtn\n                                            tag=\"a\" floating color=\"purple lighten-2\" style={{margin:'6px'}}\n                                            onClick={this.toggleListen}\n                                        >\n                                            <MDBIcon icon=\"microphone\" />\n                                        </MDBBtn>\n\n                                    </div>\n                                </div>\n                                <div className={classes.speechBorder}>\n                                    <div className={classes.body}>{this.state.speechState}</div>\n                                    <div id='interim'></div>\n                                </div>\n                            </div>\n                        )}\n\n                        <div className=\"mt-3\">\n                            <MDBCard\n                                size=\"8\"\n                                text=\"white\"\n                                className=\"py-3 px-3 w-100 purple lighten-2\"\n                                style={{boxShadow:'none', borderRadius:'15px',}}\n                            >\n                                <p\n                                    style={{borderStyle:'solid',borderColor:'white',borderWidth:'0 0 1px 0'}}\n                                    className={classes.pb1}\n                                >Hints/Answer</p>\n\n                                {this.state.tag===2? (\n                                    <div>\n                                        <p className={classes.pb3}>{this.state.hints}</p>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hint:'',\n                                                    answer:this.state.backend.answer1\n                                                })\n                                                handleSyn(this.state.backend.answer1)\n                                            }}\n                                            className={classes[\"select-ques2\"]}\n                                        >\n                                            {this.state.q1}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'',\n                                                    answer:this.state.backend.answer2\n                                                })\n                                                handleSyn(this.state.backend.answer2)\n                                            }}\n                                            className={classes[\"select-ques2\"]}\n                                        >\n                                            {this.state.q2}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'',\n                                                    answer:this.state.backend.answer3\n                                                })\n                                                handleSyn(this.state.backend.answer3)\n                                            }}\n                                            className={classes[\"select-ques2\"]}\n                                        >\n                                            {this.state.q3}\n                                        </div>\n                                        <div\n                                            onClick={()=>{\n                                                this.setState({\n                                                    tag:1,\n                                                    hints:'Could you rephrase the question？',\n                                                    answer:''\n                                                })\n                                                handleSyn('Could you rephrase the question')\n                                            }}\n                                            className={classes[\"select-ques2\"]}\n                                        >\n                                            None of above\n                                        </div>\n                                    </div>\n                                ):(\n                                    <div>\n                                        <p className={classes.pb3}>{this.state.hints}</p>\n                                        <p className={classes.pb2}>{this.state.answer}</p>\n                                    </div>\n\n                                )}\n\n                            </MDBCard>\n                            {/*<div>*/}\n                            {/*{this.state.tag<1? (*/}\n                            {/*<div className=\"d-flex justify-content-center align-items-center\">*/}\n\n                            {/*<MDBBtn*/}\n                            {/*tag=\"a\" floating className=\"green\"*/}\n                            {/*onClick={()=>{*/}\n                            {/*this.searchAgain(this.state.defaultQuestion)*/}\n                            {/*this.setState({*/}\n                            {/*tag:1*/}\n                            {/*})*/}\n                            {/*}}*/}\n                            {/*>*/}\n                            {/*<MDBIcon icon=\"check\" />*/}\n                            {/*</MDBBtn>*/}\n                            {/*<MDBBtn*/}\n                            {/*tag=\"a\" floating className=\"red lighten-1\"*/}\n                            {/*onClick={()=>{*/}\n                            {/*this.setState({*/}\n                            {/*answer:'Sorry, we cannot find the answer',*/}\n                            {/*tag:1*/}\n                            {/*})*/}\n                            {/*}}*/}\n                            {/*>*/}\n                            {/*<MDBIcon icon=\"times\" />*/}\n                            {/*</MDBBtn>*/}\n\n                            {/*</div>*/}\n                            {/*):(null)*/}\n                            {/*}*/}\n                            {/*</div>*/}\n                        </div>\n\n                        {/*{this.state.change?(*/}\n                        {/*null*/}\n                        {/*):(*/}\n\n                        {/*<p>*/}\n                        {/*{this.state.answer}*/}\n                        {/*</p>*/}\n                        {/*)}*/}\n                    </MDBModalBody>\n                </MDBModal>\n\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}